<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Redigera Spel</title>
  <link rel="stylesheet" href="../css/master.css" />
</head>
<body>
  <main class="dashboard">
    <h1>Redigera Spel</h1>

    <div class="maincontain">
      <div style="text-align: center; margin-bottom: 1rem;">
        <button id="addGameButton">➕ Lägg till spel</button>
      </div>

      <input id="searchBar" type="text" placeholder="Sök efter spel..." />

      <div id="loadingSpinner">🔄 Laddar spel...</div>
      <div id="gameList"></div>
    </div>
  </main>

  <!-- Modal for adding/editing games -->
  <div id="gameModal" class="modal">
    <div class="modal-content">
      <h2 id="formTitle">Redigera spel</h2>
      <form id="gameForm" enctype="multipart/form-data">
        <input type="hidden" id="editingIndex" />

        <input id="title" placeholder="Title" required />
        <textarea id="descSv" placeholder="Beskrivning (sv)"></textarea>
        <textarea id="descEn" placeholder="Description (en)"></textarea>

        <div style="display: flex; gap: 0.5rem; margin-bottom: 0.5rem;">
          <input id="minPlayers" placeholder="Min spelare" style="flex: 1;" />
          <input id="maxPlayers" placeholder="Max spelare" style="flex: 1;" />
        </div>

        <input id="time" placeholder="Tid" />
        <input id="age" placeholder="Ålder" />
        <input id="tags" placeholder="Taggar (kommaseparerade)" />

        <input id="img" placeholder="Bild-URL" />
        <label for="imgFile">📷 Eller ladda upp en bild:</label>
        <input type="file" id="imgFile" accept="image/*" />

        <input id="rules" placeholder="Regellänk (valfritt)" />
        <label for="rulesFile">📄 Eller ladda upp regler (PDF):</label>
        <input type="file" id="rulesFile" accept=".pdf" />

        <label><span>Endast för lugna dagar</span> <input type="checkbox" id="slowDayOnly"></label>
        <label><span>Endast för betrodda gäster</span> <input type="checkbox" id="trustedOnly"></label>
        <label><span>Endast för medlemmar</span> <input type="checkbox" id="membersOnly"></label>

        <label for="minTableSize">Minsta bordstorlek:</label>
        <select id="minTableSize">
          <option value="">Valfri</option>
          <option value="1-2">1–2</option>
          <option value="3-4">3–4</option>
          <option value="5-6">5–6</option>
          <option value="7+">7+</option>
        </select>

        <div class="condition-label">
          <span>Skick (1–5):</span>
          <div id="conditionRating" class="star-rating">
            <span class="star" data-value="1">★</span>
            <span class="star" data-value="2">★</span>
            <span class="star" data-value="3">★</span>
            <span class="star" data-value="4">★</span>
            <span class="star" data-value="5">★</span>
          </div>
        </div>
        <input type="hidden" id="conditionRatingValue" name="conditionRating" />

        <input id="staffPicks" placeholder="Staff picks (kommaseparerat)" />

        <button type="submit">💾 Spara</button>
        <button type="button" id="closeModal">❌ Avbryt</button>
      </form>
    </div>
  </div>

  <div style="height: 60px;"></div>

  <script type="module" src="../js/ui-bundle.js"></script>
  <script type="module" src="edit-games.js"></script>
</body>
</html>
