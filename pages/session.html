<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Session View - Brädspelsmeny</title>
    <link rel="stylesheet" href="../css/master.css">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
</head>
<body>
    <div class="maincontain">
        <div class="container">
            <!-- Game Info -->
            <div class="profile-header" style="text-align:center;margin-bottom:2rem;">
                <img id="gameThumbnail" src="../img/default-thumb.webp" alt="Game thumbnail" class="avatar" style="width:128px;height:128px;border:3px solid #c9a04e;">
                <h1 id="gameTitle" style="font-family:'Press Start 2P',cursive;font-size:1.2rem;margin-top:1rem;"></h1>
            </div>

            <!-- Players Section -->
            <section class="profile-section">
                <h2 style="font-family:'Press Start 2P',cursive;font-size:1rem;margin-bottom:1rem;">Players in Session</h2>
                <div id="playerList" class="friend-avatars" style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
                    <!-- Players will be added here -->
                </div>
            </section>

            <!-- Rounds Section -->
            <section class="profile-section">
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;">
                    <h2 style="font-family:'Press Start 2P',cursive;font-size:1rem;">Rounds</h2>
                    <button id="addRoundBtn" class="action-button" style="display:none;">
                        ➕ Add round results
                    </button>
                </div>
                <div id="roundsList" style="max-height:300px;overflow-y:auto;font-family:'VT323',monospace;">
                    <!-- Rounds will be added here -->
                </div>
            </section>
        </div>
    </div>

    <!-- Add Player Modal -->
    <div id="addPlayerModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="document.getElementById('addPlayerModal').style.display='none'">&times;</span>
            <h2 style="font-family:'Press Start 2P',cursive;font-size:1rem;margin-bottom:1rem;">Add Player to Session</h2>
            <select id="playerSelect" style="width:100%;padding:8px;margin-bottom:1rem;font-family:'VT323',monospace;">
                <option value="">Select a friend...</option>
            </select>
            <button id="submitAddPlayer" class="action-button">Add Player</button>
        </div>
    </div>

    <!-- Add Round Modal -->
    <div id="addRoundModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="document.getElementById('addRoundModal').style.display='none'">&times;</span>
            <h2 id="roundNumber" style="font-family:'Press Start 2P',cursive;font-size:1rem;margin-bottom:1rem;">Add Round Results</h2>
            
            <div style="margin-bottom:1rem;">
                <h3 style="font-family:'VT323',monospace;font-size:1.2rem;margin-bottom:0.5rem;">Winners</h3>
                <div id="winnersList" style="display:flex;flex-wrap:wrap;gap:8px;margin-bottom:1rem;">
                    <!-- Winner checkboxes will be added here -->
                </div>
            </div>

            <div style="margin-bottom:1rem;">
                <h3 style="font-family:'VT323',monospace;font-size:1.2rem;margin-bottom:0.5rem;">Losers</h3>
                <div id="losersList" style="display:flex;flex-wrap:wrap;gap:8px;margin-bottom:1rem;">
                    <!-- Loser checkboxes will be added here -->
                </div>
            </div>

            <button id="submitRound" class="action-button">Save Round Results</button>
        </div>
    </div>

    <script type="module" src="../js/modules/auth.js"></script>
    <script type="module" src="../js/modules/api.js"></script>
    <script type="module" src="session.js"></script>
</body>
</html> 